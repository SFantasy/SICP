## 线性的递归和迭代

先介绍了一个阶乘的递归和迭代的Scheme实现，之后解释了「递归计算过程」、「迭代计算过程」等比较专业的术语。

需要注意的是，书中指出了「递归计算过程」和「递归过程」的概念是不同的（也是容易混淆的）-- 前者论述的是语法形式上的事实，后者说的是计算过程的一种进展方式。

### 尾递归

什么是**尾递归**(tail recursion)？

> 它总能在常量空间内执行迭代型计算过程，即使这一计算是用一个递归过程描述的。

可以参考[维基百科](http://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8)

* 练习1.9

定义两个正整数相加的方法，基于inc(将参数+1)和dec(将参数-1)：

```scheme
(define (+ a b)
  (if (= a 0)
    b
    (inc (+ (dec a) b))))

(define (+ a b)
  (if (= a 0)
    b
    (+ (dec a) (inc b))))
```

用代换模型展示运算`+ 4 5`时:

```
;;第一种
(+ 4 5)
(inc (+ (dec a) b)) ;;a=3
(inc (inc (+ (dec a) b))) ;;a=2
(inc (inc (inc (+ (dec a) b)))) ;;a=1
(inc (inc (inc (inc (+ (dec a) b))))) ;;a=0
(inc (inc (inc (inc b)))) ;;相当于b+4

;;第二种
(+ 4 5)
(+ (dec a) (inc b)) ;;(+ 3 6)
(+ (dec a) (inc b)) ;;(+ 2 7)
(+ (dec a) (inc b)) ;;(+ 1 8)
(+ (dec a) (inc b)) ;;(+ 0 9)
b ;;9
```

前者线性递归，后者线性迭代。

* 练习1.10

Ackermann函数：

```scheme
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
        ((= y 1) 2)
        (else (A (- x 1)
                 (A x (- y 1))))))
```

```
(A 1 10)
;;即
(A 0 (A 1 9))
(A 0 (A 0 (A 1 8)
;;...
;;x=0时->(* 2 y)
;;所以(A 0 y)相当于(* 2 y)
```
结果为2^10=1024

```
(A 2 4)
;;即
(A 1 (A 2 3))
(A 1 (A 1 (A 2 2)))
(A 1 (A 1 (A 1 (A 2 1))))
(A 1 (A 1 (A 1 2)))
(A 1 (A 1 (A 0 (A 1 1))))
(A 1 (A 1 (A 0 2)))
(A 1 (A 1 4))
;;相当于2^(2^4)
```

结果为2^16 = 65536

同理`(A 3 3)`结果为65536

所以：

* `(define (f n) (A 0 n))`为2*n
* `(define (g n) (A 1 n))`为2^n
* `(define (h n) (A 2 n))`为2^(2^n)(n >= 4; (h 3) 为16; (h 2)为4; (h 1)为2;
